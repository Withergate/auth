<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">

<body>

<div layout:fragment="container">

    <form autocomplete="off" action="#" th:action="@{/register}"
          th:object="${user}" method="post" class="form-signin" role="form"
          data-toggle="validator">

        <h2 class="form-signin-heading" th:text="#{registration.header}"></h2>

        <div th:if="${confirmationMessage}" class="alert alert-success"
             role="alert" th:text="${confirmationMessage}"></div>

        <div th:if="${errorMessage}" class="alert alert-danger" role="alert"
             th:text="${errorMessage}"></div>


        <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
             class="validation-message alert alert-danger" role="alert"></div>

        <div class="form-group input-group has-feedback">
				<span class="input-group-addon"> 
					<span class="glyphicon glyphicon-envelope"></span>
				</span>
            <input
                    type="email"
                    th:field="*{email}"
                    th:placeholder="#{registration.emailPlaceholder}"
                    class="form-control"
                    data-error="This email address is invalid"
                    required="true"/>
            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
        </div>

        <button id="registerButton" type="submit" class="btn btn-lg btn-primary btn-block" th:text="#{registration.buttonText}" disabled></button>

        <div class="bottom-group">
            <div class="inline-field">
                <input
                        id="consentCheckbox"
                        name="consentCheckbox"
                        type="checkbox"
                        required
                        onchange="document.getElementById('registerButton').disabled = !this.checked;"/>
                <label for="consentCheckbox" th:text="#{registration.consent}"></label>
                <br>
                <div>
                    <a href="https://www.websitepolicies.com/policies/view/pfkwINHX" target="_blank">Terms and conditions</a>
                    &nbsp;
                    <a href="https://www.privacypolicyonline.com/live.php?token=oqnXmng9x9uujb0aFibAVvj3XqSvgpYt" target="_blank">Privacy policy</a>
                </div>
            </div>
        </div>

    </form>

</div>

</body>

</html>